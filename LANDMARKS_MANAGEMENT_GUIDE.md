# دليل نظام إدارة المعالم السياحية - كأس العالم 2026

## نظرة عامة
تم إضافة نظام شامل لإدارة المعالم السياحية يسمح للأدمن بإضافة وإدارة المعالم المهمة للمونديال مع ربطها بخرائط جوجل.

## الميزات المضافة

### 1. إدارة المعالم
- إضافة معالم جديدة
- تعديل المعالم الموجودة  
- حذف المعالم (إخفاء)
- عرض قائمة جميع المعالم

### 2. معلومات المعلم
- **الاسم**: اسم المعلم السياحي
- **الوصف**: وصف تفصيلي للمعلم
- **العنوان**: العنوان الكامل
- **الفئة**: نوع المعلم (متحف، ملعب، مطعم، إلخ)
- **الموقع**: الإحداثيات الدقيقة (خط الطول والعرض)
- **الصورة**: صورة للمعلم (اختيارية)

### 3. التكامل مع خرائط جوجل
- عرض الموقع على الخريطة
- تحديد الموقع بالنقر على الخريطة
- البحث عن العنوان جغرافياً
- فتح الموقع في تطبيق خرائط جوجل
- عرض الإحداثيات الدقيقة

## كيفية الوصول

### 1. دخول لوحة الأدمن
- اضغط مطولاً على شعار التطبيق في الشريط العلوي
- أدخل كلمة مرور الأدمن: `admin2026`

### 2. الوصول لإدارة المعالم
- من لوحة الأدمن، اضغط على "إدارة المعالم"
- ستفتح صفحة قائمة المعالم

## إضافة معلم جديد

### 1. اضغط على زر "+" في صفحة المعالم

### 2. ملء المعلومات الأساسية
- **اسم المعلم**: أدخل اسم المعلم (مطلوب)
- **الفئة**: حدد نوع المعلم (متحف، ملعب، مطعم، إلخ)
- **الوصف**: اكتب وصفاً تفصيلياً للمعلم (مطلوب)

### 3. إضافة صورة (اختيارية)
- اضغط على "اختيار صورة"
- اختر صورة من الجهاز
- ستظهر معاينة للصورة

### 4. تحديد الموقع
- **العنوان**: أدخل العنوان الكامل (مطلوب)
- **البحث**: اضغط "البحث في الخريطة" للعثور على الموقع
- **التحديد اليدوي**: اضغط على الخريطة لتحديد الموقع بدقة
- **التحقق**: اضغط "فتح في خرائط جوجل" للتأكد من الموقع

### 5. الحفظ
- تأكد من ملء جميع الحقول المطلوبة
- تأكد من تحديد الموقع على الخريطة
- اضغط "حفظ المعلم"

## تعديل معلم موجود

### 1. من قائمة المعالم، اضغط "تعديل" للمعلم المطلوب
### 2. ستفتح نفس الصفحة مع البيانات الموجودة
### 3. قم بالتعديل المطلوب
### 4. اضغط "حفظ المعلم"

## عرض تفاصيل معلم

### 1. من قائمة المعالم، اضغط "عرض" للمعلم المطلوب
### 2. ستظهر صفحة التفاصيل مع:
- الصورة والمعلومات الأساسية
- الموقع على الخريطة
- العنوان والإحداثيات
### 3. يمكن فتح الموقع في خرائط جوجل مباشرة

## حذف معلم

### 1. من قائمة المعالم، اضغط "حذف" للمعلم المطلوب
### 2. أكد الحذف في النافذة المنبثقة
### 3. المعلم سيختفي من القائمة (لكنه لا يُحذف نهائياً)

## Google Maps API

### تم ربط النظام بـ API Key:
```
AIzaSyDSvvk57l5YSCSfa7bHPdR_IpOg3ikemE0
```

### الوظائف المدعومة:
- عرض الخرائط التفاعلية
- تحديد المواقع بالنقر
- البحث الجغرافي (Geocoding)
- فتح المواقع في تطبيق خرائط جوجل
- عرض العلامات والمؤشرات

## قاعدة البيانات

### هيكل البيانات في Firebase:
```
landmarks/
  ├── landmarkId1/
  │   ├── name: "اسم المعلم"
  │   ├── description: "الوصف"
  │   ├── address: "العنوان"
  │   ├── category: "الفئة"
  │   ├── latitude: 25.1972
  │   ├── longitude: 55.2744
  │   ├── imageUrl: "رابط الصورة"
  │   ├── rating: 0.0
  │   ├── timestamp: 1234567890
  │   └── active: true
```

## الملفات المضافة

### نماذج البيانات:
- `Landmark.java` - نموذج بيانات المعلم

### الأنشطة:
- `ManageLandmarksActivity.java` - قائمة المعالم
- `AddEditLandmarkActivity.java` - إضافة/تعديل معلم
- `LandmarkDetailsActivity.java` - تفاصيل المعلم

### المحولات والـ ViewModels:
- `LandmarkAdapter.java` - محول قائمة المعالم
- `LandmarkViewModel.java` - منطق العمل
- `LandmarkRepository.java` - التفاعل مع قاعدة البيانات

### التخطيطات:
- `activity_manage_landmarks.xml`
- `activity_add_edit_landmark.xml` 
- `activity_landmark_details.xml`
- `item_landmark_admin.xml`

### الأيقونات:
- `ic_location_city.xml`
- `ic_map.xml`
- `ic_gps.xml`

## الصلاحيات المطلوبة

تم إضافة الصلاحيات التالية في AndroidManifest.xml:
- `ACCESS_FINE_LOCATION` - للوصول للموقع الدقيق
- `ACCESS_COARSE_LOCATION` - للوصول للموقع التقريبي
- `INTERNET` - للاتصال بخرائط جوجل

## نصائح للاستخدام

### 1. اختيار المواقع:
- استخدم البحث بالعنوان أولاً
- ثم حدد الموقع بدقة بالنقر على الخريطة
- تأكد من صحة الإحداثيات

### 2. الصور:
- استخدم صور عالية الجودة
- تأكد من أن الصور تمثل المعلم بوضوح
- الصور اختيارية لكنها تحسن التجربة

### 3. الأوصاف:
- اكتب أوصافاً مفيدة ومفصلة
- اذكر ما يميز المعلم
- أضف معلومات عملية مثل ساعات العمل

### 4. الفئات:
- استخدم فئات واضحة ومتسقة
- أمثلة: "ملعب"، "متحف"، "مطعم"، "فندق"، "مركز تسوق"

## الدعم والصيانة

لأي مشاكل أو استفسارات:
1. تحقق من اتصال الإنترنت
2. تأكد من صلاحيات الموقع
3. تحقق من صحة Google Maps API Key
4. راجع سجلات Firebase لأي أخطاء

تم تطوير هذا النظام ليكون سهل الاستخدام ومتكامل مع باقي أجزاء التطبيق.
